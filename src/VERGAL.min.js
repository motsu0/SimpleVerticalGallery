var VERGAL=VERGAL||{};VERGAL.body_top=0,VERGAL.loading=document.getElementById("VERGALloading"),VERGAL.box=document.getElementById("VERGALbox"),VERGAL.close=document.getElementById("closeVERGAL"),VERGAL.close.addEventListener("click",function(){VERGAL.clear()},!1),VERGAL.gallry_set=document.getElementsByClassName("vertical-gallery"),Array.prototype.forEach.call(VERGAL.gallry_set,function(e){Array.prototype.forEach.call(e.children,function(e){e.addEventListener("click",function(){VERGAL.disp(e)},!1)})}),VERGAL.disp=function(e){function t(){a++,a==d&&(VERGAL.loading.style.display="none",o.scrollIntoView())}VERGAL.keepbody(),VERGAL.box.style.display="block",VERGAL.loading.style.display="block";var o,n=e.parentNode,a=0,d=0;Array.prototype.forEach.call(n.children,function(e){"img"==e.getElementsByTagName("img")[0].dataset.tagname&&d++}),Array.prototype.forEach.call(n.children,function(n){var a=document.createElement("figure"),d=n.getElementsByTagName("img")[0],l=document.createElement(d.dataset.tagname);switch(d.dataset.tagname){case"img":l.addEventListener("load",function(){t()},!1),l.addEventListener("error",function(){t()},!1),l.setAttribute("src",d.dataset.href),l.setAttribute("alt",d.alt)}a.appendChild(l);var c=n.getElementsByTagName("figcaption")[0];if(void 0!=c){var i=document.createElement("figcaption");i.appendChild(document.createTextNode(c.textContent)),a.appendChild(i)}VERGAL.box.insertBefore(a,VERGAL.close),e==n&&(o=a)})},VERGAL.clear=function(){for(var e=VERGAL.box.getElementsByTagName("figure"),t=e.length-1;t>=0;t--)e[t].parentNode.removeChild(e[t]);VERGAL.box.style.display="none",VERGAL.loading.style.display="none",VERGAL.relesebody()},VERGAL.keepbody=function(){VERGAL.body_top=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,document.body.classList.add("VERGALbody")},VERGAL.relesebody=function(){document.body.classList.remove("VERGALbody"),scrollTo(0,VERGAL.body_top)},window.addEventListener("load",function(){var e=new Image;e.src="../img/nowloading.gif"},!1);